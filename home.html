<h1>Launcher</h1>
<div id="card-container" class="row is-vertical-align"></div>

<template id="card-template">
  <div class="col-4">
    <div class="card">
      <header><h4></h4></header>
      <p></p>
      <footer class="is-right">
        <a class="button primary"></a>
      </footer>
    </div>
  </div>
</template>

<table>
  <thead>
    <th>Page</th>
    <th>Description</th>
  </thead>
  <tbody id="row-container"></tbody>
</table>

<template id="row-template">
  <tr>
    <td><a></a></td>
    <td class="description">Early version of this site with subpages. Kept as a reference.</td>
  </tr>
</template>

<script id="page-data" type="application/json">
  [
    {"name": "Bead Encoding", "description": "Encodes a string into beads.", "target": "./?page=bead-encoding"},
    {"name": "Soul Spire", "description": "Render cards for Tabletop Simulator or Print & Play.", "target": "../soul-spire/"},
    {"name": "Home", "description": "Launches other pages.", "target": "./"}
  ]
</script>

<script>
  /** @type HTMLTemplateElement */
  const cardTemplate = document.getElementById('card-template')
  const cardContainer = document.getElementById('card-container')

  const rowContainer = document.getElementById('row-container')
  const rowTemplate = document.getElementById('row-template')

  const data = document.getElementById('page-data')

  for (const datum of JSON.parse(data.textContent)) {
    // Card
    let clone = cardTemplate.content.cloneNode(true)
    clone.querySelector('h4').textContent = datum.name;
    clone.querySelector('p').textContent = datum.description;

    /** @type HTMLAnchorElement */
    let anchor = clone.querySelector('a')
    anchor.textContent = datum.name;
    anchor.href = datum.target;

    cardContainer.appendChild(clone)

    // Table
    clone = rowTemplate.content.cloneNode(true)
    anchor = clone.querySelector('a')
    anchor.textContent = datum.name;
    anchor.href = datum.target;

    clone.querySelector('td.description').textContent = datum.description;

    rowContainer.appendChild(clone)
  }
</script>
